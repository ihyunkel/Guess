<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูู ุฃูุงุ - ูุนุจุฉ Twitch ุชูุงุนููุฉ</title>
    <link rel="icon" href="logo.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&family=Readex+Pro:wght@400;600;700&family=Amiri:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo-wrapper">
                <img src="logo.png" alt="Logo" class="logo-new">
            </div>
            <h1 class="main-title">ูู ุฃูุงุ</h1>
            <p class="subtitle">ุญูู ูุนู ูุงุนุฑู ูู ุฃูุง</p>
        </header>

        <!-- Setup Section -->
        <section class="setup-section" id="setupSection">
            <div class="setup-card">
                <h2 class="section-title">
                    <span class="title-icon">๐ฎ</span>
                    ุงุจุฏุฃ ุงููุนุจ
                </h2>
                
                <div class="auth-method recommended">
                    <h3 class="method-title">ุชุณุฌูู ุฏุฎูู ูุจุงุดุฑ</h3>
                    <p class="method-description">ุณุฌู ุฏุฎูู ุจุญุณุงุจ Twitch ุงูุฎุงุต ุจู ูุงุจุฏุฃ ุงููุนุจ ูุจุงุดุฑุฉู</p>
                    <button class="btn-primary btn-twitch btn-large" id="twitchLoginBtn">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" style="margin-left: 10px;">
                            <path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714z"/>
                        </svg>
                        ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ Twitch
                    </button>
                </div>
            </div>
        </section>

        <!-- Game Section -->
        <section class="game-section hidden" id="gameSection">
            
            <!-- Floating Secret Word Box -->
            <div class="secret-word-float" id="secretWordFloat">
                <div class="secret-float-header">
                    <button class="secret-toggle" id="secretToggle">โ</button>
                    <span class="secret-float-title">๐ ุงููููุฉ ุงูุณุฑูุฉ</span>
                </div>
                <div class="secret-float-content" id="secretFloatContent">
                    <input type="text" id="secretWordInput" class="secret-word-input" placeholder="ุงูุชุจ ุงููููุฉ ุงูุณุฑูุฉ ููุง...">
                    <button class="btn-small btn-primary" id="setSecretBtn">ุญูุธ</button>
                    <div class="secret-word-display hidden" id="secretWordDisplay">-</div>
                </div>
            </div>
            
            <!-- Connection Status -->
            <div class="connection-status">
                <div class="status-info">
                    <span class="status-icon">๐ข</span>
                    <span class="status-text">ูุชุตู ุจู: <strong id="connectedChannel">-</strong></span>
                </div>
                <button class="btn-secondary btn-small" id="disconnectBtn">ูุทุน ุงูุงุชุตุงู</button>
            </div>

            <!-- Game Setup Card -->
            <div class="game-setup-card">
                <h3 class="card-title">
                    <span class="card-icon">๐ฏ</span>
                    ุฅุนุฏุงุฏ ุงููุนุจุฉ
                </h3>

                <!-- Step 1: Open Join -->
                <div class="setup-step" id="step1">
                    <h4 class="step-title">ุงูุฎุทูุฉ 1: ูุชุญ ุจุงุจ ุงูุงูุถูุงู</h4>
                    <p class="step-description">ุงุถุบุท ุงูุฒุฑ ููุชุญ ุจุงุจ ุงูุงูุถูุงู ูููุดุงูุฏูู</p>
                    <button class="btn-primary btn-large" id="openJoinBtn">
                        <span>๐ช</span>
                        ูุชุญ ุจุงุจ ุงูุงูุถูุงู
                    </button>
                </div>

                <!-- Step 2: Secret Word (Hidden initially) -->
                <div class="setup-step hidden" id="step2">
                    <h4 class="step-title">ุงูุฎุทูุฉ 2: ุฌุงูุฒ ููุจุฏุก</h4>
                    <div class="participants-preview">
                        <p class="preview-label">ุนุฏุฏ ุงููุดุงุฑููู ุงูุญุงูู: <span id="previewCount">0</span></p>
                        <div class="preview-list" id="previewList"></div>
                    </div>
                    
                    <div class="secret-note">
                        <p>๐ก ุงูุชุจ ุงููููุฉ ุงูุณุฑูุฉ ูู ุงูุตูุฏูู ุงูุนุงุฆู ุจุนุฏ ุจุฏุก ุงููุนุจุฉ</p>
                    </div>

                    <!-- Game Mode -->
                    <div class="form-group">
                        <label class="input-label">๐ฎ ููุน ุงููุนุจุฉ</label>
                        <select id="gameMode" class="input-select">
                            <option value="solo">ูุนุจ ูุฑุฏู</option>
                            <option value="teams">ูุฑูููู (๐ต ุฃุฒุฑู ุถุฏ ๐ด ุฃุญูุฑ)</option>
                        </select>
                    </div>

                    <!-- Game Duration -->
                    <div class="form-group">
                        <label class="input-label">โฑ๏ธ ูุฏุฉ ูู ุฌููุฉ</label>
                        <select id="gameDuration" class="input-select">
                            <option value="300">5 ุฏูุงุฆู</option>
                            <option value="600">10 ุฏูุงุฆู</option>
                            <option value="900">15 ุฏูุงุฆู</option>
                            <option value="1200">20 ุฏูููุฉ</option>
                        </select>
                    </div>

                    <!-- Number of Rounds -->
                    <div class="form-group">
                        <label class="input-label">๐ฏ ุนุฏุฏ ุงูุฌููุงุช</label>
                        <select id="roundsCount" class="input-select">
                            <option value="1">ุฌููุฉ ูุงุญุฏุฉ</option>
                            <option value="5">5 ุฌููุงุช</option>
                            <option value="10">10 ุฌููุงุช</option>
                            <option value="15">15 ุฌููุฉ</option>
                            <option value="20">20 ุฌููุฉ</option>
                        </select>
                    </div>

                    <button class="btn-primary btn-large" id="startGameBtn">
                        <span>๐ฎ</span>
                        ุจุฏุก ุงูุฌููุฉ
                    </button>
                </div>
            </div>

            <!-- Active Game Card -->
            <div class="active-game-card hidden" id="activeGameCard">
                <div class="game-header">
                    <div class="round-info">
                        <h3 class="game-status">๐ฎ ุงูุฌููุฉ <span id="currentRound">1</span> / <span id="totalRounds">1</span></h3>
                        <div class="timer-display">
                            <span class="timer-label">ุงูููุช ุงููุชุจูู:</span>
                            <span class="timer-value" id="gameTimer">00:00</span>
                        </div>
                    </div>
                </div>

                <!-- Leaderboard Toggle Button -->
                <button class="leaderboard-toggle-btn" id="leaderboardToggle">
                    <span>๐</span>
                    ููุญุฉ ุงููุชุตุฏุฑูู
                </button>

                <!-- Leaderboard (Hidden by default) -->
                <div class="leaderboard-card hidden" id="leaderboardCard">
                    <h4 class="leaderboard-title">๐ ููุญุฉ ุงููุชุตุฏุฑูู</h4>
                    <div class="leaderboard-list" id="leaderboardList">
                        <div class="empty-state">ูุง ุชูุฌุฏ ููุงุท ุจุนุฏ</div>
                    </div>
                </div>

                <!-- Current Question -->
                <div class="current-question-card" id="questionCard">
                    <div class="question-header-row">
                        <div class="question-from">
                            <span class="from-icon">๐ค</span>
                            <span id="currentAsker">-</span>
                        </div>
                        <div class="question-timer-display" id="questionTimerDisplay">
                            <span class="timer-icon">โฑ๏ธ</span>
                            <span class="timer-countdown" id="timerCountdown">20</span>
                        </div>
                    </div>
                    <div class="question-text" id="currentQuestion">ูู ุงูุชุธุงุฑ ุงูุณุคุงู...</div>
                    
                    <!-- Answer Input -->
                    <div class="answer-section" id="answerSection">
                        <div class="quick-answers">
                            <button class="quick-btn quick-yes" id="quickYes">โ ูุนู</button>
                            <button class="quick-btn quick-no" id="quickNo">โ ูุง</button>
                        </div>
                        <div class="custom-answer-group">
                            <input type="text" id="answerInput" class="answer-input" placeholder="ุฃู ุงูุชุจ ุฅุฌุงุจุฉ ูุฎุตุตุฉ...">
                            <button class="btn-primary" id="submitAnswerBtn">
                                <span>โ</span>
                                ุฅุฑุณุงู
                            </button>
                        </div>
                        <button class="btn-skip" id="skipBtn">
                            <span>โญ๏ธ</span>
                            ุชุฎุทู ุงูุณุคุงู
                        </button>
                    </div>
                </div>

                <!-- Participants Queue -->
                <div class="participants-card">
                    <h4 class="participants-title">
                        <span>๐ฅ</span>
                        ุงููุดุงุฑููู (<span id="queueCount">0</span>)
                    </h4>
                    <div class="participants-queue" id="participantsQueue">
                        <div class="empty-state">ูุง ููุฌุฏ ูุดุงุฑููู</div>
                    </div>
                </div>

                <!-- Questions History -->
                <div class="history-card">
                    <h4 class="history-title">
                        <span>๐</span>
                        ุงูุฃุณุฆูุฉ ูุงูุฅุฌุงุจุงุช
                    </h4>
                    <div class="history-list" id="historyList">
                        <div class="empty-state">ูุง ุชูุฌุฏ ุฃุณุฆูุฉ ุจุนุฏ</div>
                    </div>
                </div>

                <!-- Game Controls -->
                <div class="game-controls">
                    <button class="btn-danger" id="endGameBtn">ุฅููุงุก ุงููุนุจุฉ</button>
                </div>
            </div>

            <!-- Game Results -->
            <div class="results-card hidden" id="resultsCard">
                <h3 class="results-title">
                    <span>๐</span>
                    ูุชูุฌุฉ ุงููุนุจุฉ
                </h3>
                
                <div class="secret-reveal">
                    <span class="reveal-label">ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ:</span>
                    <span class="reveal-value" id="revealedSecret">-</span>
                </div>

                <div class="winner-section" id="winnerSection">
                    <div class="winner-badge">๐</div>
                    <h4 class="winner-title">ุงููุงุฆุฒ:</h4>
                    <div class="winner-name" id="winnerName">-</div>
                </div>

                <div class="results-stats">
                    <div class="stat-item">
                        <span class="stat-label">ุนุฏุฏ ุงูุฃุณุฆูุฉ:</span>
                        <span class="stat-value" id="totalQuestions">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ุนุฏุฏ ุงููุดุงุฑููู:</span>
                        <span class="stat-value" id="totalParticipants">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ูุฏุฉ ุงููุนุจุฉ:</span>
                        <span class="stat-value" id="gameDurationStat">0</span>
                    </div>
                </div>

                <button class="btn-primary btn-large" id="newGameBtn">
                    <span>๐ฎ</span>
                    ูุนุจุฉ ุฌุฏูุฏุฉ
                </button>
            </div>
        </section>
    </div>

    <!-- Load tmi.js library -->
    <script src="tmi.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
